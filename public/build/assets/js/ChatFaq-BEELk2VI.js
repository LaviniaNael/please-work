import{r,u as S,j as e,v as q,w as C}from"./react-vendor-DUAwp0DP.js";import{S as L}from"./ScrambleText-D8AKk9xQ.js";import{a as k,e as A}from"./ar-DPtWaokl.js";import{A as p,m as l}from"./animation-vendor-BOQyiasL.js";import"./inertia-vendor-C7028C4g.js";import"./vendor-BREGID51.js";import"./swiper-vendor-Dl_WRv9M.js";import"./phone-vendor-Cl7CPH_p.js";const E=({text:m})=>{const a=Array.from(m);return e.jsx(l.p,{initial:"hidden",animate:"visible",variants:{hidden:{},visible:{transition:{staggerChildren:.015}}},children:a.map((c,o)=>e.jsx(l.span,{variants:{hidden:{opacity:0},visible:{opacity:1}},children:c},o))})};function I({faqs:m=[],section:a}){const[c,o]=r.useState([]),[b,h]=r.useState(!1),d=r.useRef(null),[u,j]=r.useState(!1),[f,y]=r.useState(!1),{locale:i}=S().props,w=i==="ar"?k:A,n=r.useCallback(()=>{const t=d.current;if(t){const s=t.scrollWidth>t.clientWidth;j(t.scrollLeft>0),y(s&&t.scrollLeft<t.scrollWidth-t.clientWidth)}},[]);r.useEffect(()=>{const t=d.current;if(!t)return;const s=setTimeout(()=>{n()},100);return window.addEventListener("resize",n),t.addEventListener("scroll",n),()=>{clearTimeout(s),window.removeEventListener("resize",n),t.removeEventListener("scroll",n)}},[n]),r.useEffect(()=>{o([]),h(!1)},[i]);const v=t=>{const s=d.current;if(s){const x=t==="left"?-s.clientWidth/2:s.clientWidth/2;s.scrollBy({left:x,behavior:"smooth"})}},g=t=>{if(b)return;h(!0);const s=i==="en"?t.question:t.question_ar||t.question,x=i==="en"?t.answer:t.answer_ar||t.answer;o([{type:"q",text:s}]),setTimeout(()=>{o(N=>[...N,{type:"a",text:x}]),h(!1)},800)};return e.jsx("section",{className:"bg-[var(--color-background)] py-24 text-white sm:py-32",id:"faq",dir:i==="ar"?"rtl":"ltr",children:e.jsxs("div",{className:"mx-auto flex max-w-7xl flex-col items-center px-6 lg:px-8",dir:i==="ar"?"rtl":"ltr",children:[a&&e.jsxs("div",{className:"mb-16 text-center",children:[e.jsx(L,{className:"scramble-heading",children:i==="ar"?a.title_ar:a.title}),e.jsx("p",{className:"mt-4 text-3xl font-bold tracking-tight sm:text-4xl",children:i==="ar"?a.subtitle_ar:a.subtitle})]}),e.jsxs("div",{className:"faq-chat-window",children:[e.jsxs("div",{className:"faq-prompts-wrapper",children:[e.jsx(p,{children:u&&e.jsx(l.button,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"faq-scroll-arrow left-2",onClick:()=>v("left"),disabled:!u,children:e.jsx(q,{})})}),e.jsx("div",{ref:d,onScroll:n,className:"faq-question-prompts",children:m.map(t=>e.jsx("button",{onClick:()=>g(t),className:"faq-prompt-button flex-shrink-0",children:i==="en"?t.question:t.question_ar},t.id))}),e.jsx(p,{children:f&&e.jsx(l.button,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"faq-scroll-arrow right-2",onClick:()=>v("right"),disabled:!f,children:e.jsx(C,{})})})]}),e.jsx("div",{className:"faq-chat-history",children:e.jsxs(p,{children:[c.length===0&&e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center text-gray-500",dir:i==="ar"?"rtl":"ltr",children:w.faq.select_question}),c.map((t,s)=>e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:t.type==="q"?"chat-bubble-question":"chat-bubble-answer",children:t.type==="a"?e.jsx(E,{text:t.text}):e.jsx("p",{children:t.text})},s))]})})]})]})})}export{I as ChatFaq};
